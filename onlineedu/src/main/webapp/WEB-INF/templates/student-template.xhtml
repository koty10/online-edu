<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

<h:head>
    <title><ui:insert name="title">Default title</ui:insert></title>
    <h:outputStylesheet name="styles/styles.css" />

</h:head>
<h:body>
    <header>
        <div class="column-narrow">
            <h:link outcome="/home">
                <h:graphicImage name="images/logo.jpg" alt="logo" />
            </h:link>
        </div>
        <ul>
            <ui:repeat value="#{studentBackingBean.loggedInStudent.classroom.teachingCollection}" var="teaching">
                <li>
                    <h:link value="#{teaching.subject.name}" styleClass="#{param['teaching'].toString().equals(teaching.id.toString()) ? 'active' : ''}">
                        <f:param name="teaching" value="#{teaching.id}" />
                    </h:link>
                </li>
            </ui:repeat>
        </ul>
        <div class="column-narrow">

            <h:form>
                <p:menuButton value="#{studentBackingBean.getLoggedInStudent().firstname} #{studentBackingBean.getLoggedInStudent().surname}">
                    <p:menuitem value="todo1" update="messages" icon="pi pi-save"/>
                    <p:menuitem value="todo2" update="messages" icon="pi pi-refresh"/>
                    <p:menuitem value="todo3" ajax="false" icon="pi pi-times"/>
                    <p:separator />
                    <p:menuitem id="logoutbtn" value="Odhlásit" rendered="#{userLogin.loggedIn}" action="#{userLogin.logout}" ajax="false" icon="pi pi-home"/>
                    <p:menuitem value="Přihlásit" rendered="#{not userLogin.loggedIn}" action="login" ajax="false" icon="pi pi-home"/>
                </p:menuButton>
                <p:growl id="messages" showDetail="true"/>
            </h:form>

        </div>
    </header>
    <section class="row">
        <aside class="big">
            <ul>
                <li>
                    <h:link outcome="home" value="Home" styleClass="#{urlHelperBean.isCurrentPage('home') ? 'active' : ''}">
                        <f:param name="teaching" value="#{param['teaching']}" />
                    </h:link>
                </li>
                <li>
                    <h:link outcome="tasks" value="Úkoly" styleClass="#{urlHelperBean.isCurrentPage('tasks') ? 'active' : ''}">
                        <f:param name="teaching" value="#{param['teaching']}" />
                    </h:link>
                </li>
            </ul>


        </aside>
        <main class="big"><ui:insert name="content">Default content</ui:insert></main>
        <aside class="big">Novinky</aside>
    </section>
    <footer>
        <p>Footer</p>
    </footer>

</h:body>
</html>